<!DOCTYPE html>
<html>
<head>
<style>
table,tr,td{
   
   background-color:orange;
   margin-left:100px;
   border:solid black;
   padding:40px;

}
button{
   width:70px;
   height: 70px;

}
div{
   background-color:white;
   width:20px;
   height: 20px;

}
input{
   background-color:white;
   width:70px;
   height: 70px;
   text-align: center;
}
</style>
<script>
   function input(){
      var temp;
      
      if(turno > -1)
      {
         alert("Il colore è stato inserito");
         return;
      }
     
         
     else
     {
      var i;
      for(i=0; i<4; i++)
      {
      
      
         A[i] = prompt("Inserire colori: N/R/V/B");
         
         if(A[i] == 0 || A[i] == null)
         {
         
            alert("Devi inserire un colore");
            i--;
            continue;
            
         }
         
         temp = A[i];
         A[i] = temp.toLowerCase();
         
       }
      turno++;
      }
      
      
   }
   
   function calcola(pos0,pos1,pos2,pos3,div0,div1,div2,div3){
      
      
       
      var i,j,K=0,s=0,i,cont=0,grigio;
      var risultato="",temp="";
      var C = [pos0,pos1,pos2,pos3];
      var S = [A[0],A[1],A[2],A[3]];
      B[0] = document.getElementById(pos0).value;
      B[1] = document.getElementById(pos1).value;
      B[2] = document.getElementById(pos2).value;
      B[3] = document.getElementById(pos3).value;
      
      if(turno > 9)
      {
          for(i=0; i<4;i++)
              risultato+=A[i];
      
      
          alert("Hai perso! La soluzione è: "+risultato);
          return;
          
      }
      
      if(turno < 0)
      {
          alert("Devi prima inserire i colori da indovinare");
          return;
      
      }
      
      document.getElementById("demo").innerHTML = "Tentativi rimasti: "+(9-turno);
      for(i=0; i<4; i++)
      {
         temp = B[i];
         B[i] = temp.toLowerCase();
      }
      
      
      
      for(i=0; i<4; i++)
      {
         if(B[i] == "n")
             document.getElementById(C[i]).style.backgroundColor = "black";
         if(B[i] == "v")
             document.getElementById(C[i]).style.backgroundColor = "green";
         if(B[i] == "r")
             document.getElementById(C[i]).style.backgroundColor = "red";
         if(B[i] == "b")
             document.getElementById(C[i]).style.backgroundColor = "blue";
      }
      C = [div0,div1,div2,div3];
      if(vittoria == 0)
      {
      
         
         for(i=0; i<4; i++)
         {
            if(B[i] == S[i])
            {
               document.getElementById(C[K++]).style.backgroundColor = "black";
               S[i] = 0;
               B[i] = 0;
               cont++;
               
            }
         
         }
         
         for(i=0; i<4; i++)
         
           for(j=0; j<4; j++)
           
              if(B[i] == S[j] && S[j] != 0)
              {
                 document.getElementById(C[K++]).style.backgroundColor = "grey";
                 S[j] = 0;
                 B[i] = 0;
                 break;
              }
         
         if(cont == 4)
            vittoria = 1; 
     }
     
   
     if(vittoria == 1)
     {
        alert("HAI VINTO!");
        return;
     }

     
     turno++;
            
    }
    function rigioca(){
       var i;
       var a;
       
       for(i=0; i<40; i++) 
           {
              a ="demo"+i;
              document.getElementById(a).style.backgroundColor = "white";
           
           }
           
            for(i=0; i<40; i++) 
           {
              a ="B"+i;
              document.getElementById(a).style.backgroundColor = "white";
           
           }
    
       for(i=0; i<4; i++)
          A[i] = "0";
    
    vittoria = 0;
    turno = -1;
    document.getElementById("demo").innerHTML = "Tentativi rimasti: "+(9-turno);
    
    }
</script>
</head>
<body style="background-color:lightblue">

<h1 style = "margin-left: 500px">MasterMind</h1>
<h3 id = "demo" style = "margin-left: 510px">Tentativi rimasti: 10</h3>
<button style="margin-left:100px; width:993px" onclick="input()">Inserire colori:  N/R/V/B</button>

<table>
  <tr>
    <td><input type="text" id="B0"></td>
    <td><input type="text" id="B1"></td>
    <td><input type="text" id="B2"></td>
    <td><input type="text" id="B3"></td>
    <td>
    <button     onclick="calcola('B0','B1','B2','B3','demo0','demo1','demo2','demo3')">Prova</button>   </td>
    <td><div id="demo0"></div><div id="demo1"></div><div id="demo2"></div><div id="demo3"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B4"></td>
    <td><input type="text" id="B5"></td>
    <td><input type="text" id="B6"></td>
    <td><input type="text" id="B7"></td>
    <td>
    <button     onclick="calcola('B4','B5','B6','B7','demo4','demo5','demo6','demo7')">Prova</button>   </td>
    <td><div id="demo4"></div><div id="demo5"></div><div id="demo6"></div><div id="demo7"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B8"></td>
    <td><input type="text" id="B9"></td>
    <td><input type="text" id="B10"></td>
    <td><input type="text" id="B11"></td>
    <td>
    <button     onclick="calcola('B8','B9','B10','B11','demo8','demo9','demo10','demo11')">Prova</button>   </td>
    <td><div id="demo8"></div><div id="demo9"></div><div id="demo10"></div><div id="demo11"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B12"></td>
    <td><input type="text" id="B13"></td>
    <td><input type="text" id="B14"></td>
    <td><input type="text" id="B15"></td>
    <td>
    <button     onclick="calcola('B12','B13','B14','B15','demo12','demo13','demo14','demo15')">Prova</button>   </td>
    <td><div id="demo12"></div><div id="demo13"></div><div id="demo14"></div><div id="demo15"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B16"></td>
    <td><input type="text" id="B17"></td>
    <td><input type="text" id="B18"></td>
    <td><input type="text" id="B19"></td>
    <td>
    <button     onclick="calcola('B16','B17','B18','B19','demo16','demo17','demo18','demo19')">Prova</button>   </td>
    <td><div id="demo16"></div><div id="demo17"></div><div id="demo18"></div><div id="demo19"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B20"></td>
    <td><input type="text" id="B21"></td>
    <td><input type="text" id="B22"></td>
    <td><input type="text" id="B23"></td>
    <td>
    <button     onclick="calcola('B20','B21','B22','B23','demo20','demo21','demo22','demo23')">Prova</button>   </td>
    <td><div id="demo20"></div><div id="demo21"></div><div id="demo22"></div><div id="demo23"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B24"></td>
    <td><input type="text" id="B25"></td>
    <td><input type="text" id="B26"></td>
    <td><input type="text" id="B27"></td>
    <td>
    <button     onclick="calcola('B24','B25','B26','B27','demo24','demo25','demo26','demo27')">Prova</button>   </td>
    <td><div id="demo24"></div><div id="demo25"></div><div id="demo26"></div><div id="demo27"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B28"></td>
    <td><input type="text" id="B29"></td>
    <td><input type="text" id="B30"></td>
    <td><input type="text" id="B31"></td>
    <td>
    <button     onclick="calcola('B28','B29','B30','B31','demo28','demo29','demo30','demo31')">Prova</button>   </td>
    <td><div id="demo28"></div><div id="demo29"></div><div id="demo30"></div><div id="demo31"></div>
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B32"></td>
    <td><input type="text" id="B33"></td>
    <td><input type="text" id="B34"></td>
    <td><input type="text" id="B35"></td>
    <td>
    <button     onclick="calcola('B32','B33','B34','B35','demo32','demo33','demo34','demo35')">Prova</button>   </td>
    <td><div id="demo32"></div><div id="demo33"></div><div id="demo34"></div><div id="demo35"></div>
    
    </td>
  </tr>
  <tr>
    <td><input type="text" id="B36"></td>
    <td><input type="text" id="B37"></td>
    <td><input type="text" id="B38"></td>
    <td><input type="text" id="B39"></td>
    <td>
    <button     onclick="calcola('B36','B37','B38','B39','demo36','demo37','demo38','demo39')">Prova</button>   </td>
    <td><div id="demo36"></div><div id="demo37"></div><div id="demo38"></div><div id="demo39"></div>
    </td>
  </tr>
 
</table>

<button style="margin-left:100px; width:993px" onclick="rigioca()">Rigioca</button>

<script>
   var A = ["0","0","0","0"];
   var B = ["0","0","0","0"];
   var turno = -1;
   var vittoria = 0;
</script>
</body>
</html> 